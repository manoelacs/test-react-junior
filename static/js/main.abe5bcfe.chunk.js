(this.webpackJsonpxprodutos=this.webpackJsonpxprodutos||[]).push([[0],{135:function(e,t,a){},236:function(e,t,a){},252:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(10),o=a.n(r),i=(a(135),a(14)),l=a(292),s=a(298),d=a(299),u=a(300),b=a(254),j=a(253),p=a(291),O=a(16),g=a(7),m=a(121),x=a(284),h=a(303),f=a(24),v=a(287),k=a(289),y=a(290),C=a(28),S=a(122),N=a(123),w=a(3),F=Object(c.createContext)({});function L(e){var t,a,n=e.children,r=Object(N.a)(e,["children"]),o=Object(c.useState)(null!==(t=r.products)&&void 0!==t?t:[]),l=Object(i.a)(o,2),s=l[0],d=l[1],u=Object(c.useState)(null!==(a=r.activeForm)&&void 0!==a&&a),b=Object(i.a)(u,2),j=b[0],p=b[1];console.log(s);return Object(w.jsx)(F.Provider,{value:{products:s,activeForm:j,addProduct:function(e){d([].concat(Object(g.a)(s),[e])),console.log("produto adicionado",s)},skuExists:function(e){return s.filter((function(t){return t.codeSku===e})).length>0},deleteProduct:function(e){for(var t=-1,a=0;a<s.length;a++)s[a].codeSku===e&&(t=a);-1!==t&&d(s.splice(t,1))},handleVisibleForm:function(){j&&p(!1),p(!0)}},children:n})}a(236);var I,P,V,q=Object(x.a)((function(e){return Object(h.a)({root:{padding:e.spacing(3,0,5)},paper:{},buttons:{display:"flex",justifyContent:"end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)}})})),B=C.b().shape({id:C.c().required(),codeSku:C.a().positive().integer().required(),productName:C.c().required(),price:C.c().required(),category:C.b().shape({label:C.c(),value:C.c()})}),T=function(e){var t=e.handleVisibleForm,a=q(),r=Object(f.e)({resolver:Object(S.a)(B)}),o=r.control,i=(r.register,r.formState.errors),l=r.handleSubmit,s=r.reset,d=Object(c.useContext)(F),u=d.products,b=d.addProduct,j=d.skuExists;d.activeForm;console.log(n.a.useContext(F)),console.log(Object(g.a)(u));return Object(w.jsx)("div",{className:a.root,children:Object(w.jsx)("form",{onSubmit:l((function(e){if(j(e.codeSku))alert("C\xf3digo SKU j\xe1 cadastrado no sistema!");else{console.log(u[u.length-1].id);var t=u[u.length-1].id+1;e.id=t,b(e),s(),alert(JSON.stringify(e))}})),children:Object(w.jsxs)(v.a,{container:!0,spacing:3,children:[Object(w.jsxs)(v.a,{item:!0,xs:12,md:3,children:[Object(w.jsx)("label",{children:"C\xf3digo SKU"}),Object(w.jsx)(f.a,{render:function(e){var t=e.field;return Object(w.jsxs)(w.Fragment,{children:[" ",Object(w.jsx)(k.a,Object(O.a)(Object(O.a)({},t),{},{className:"materialUIInput",type:"number"})),i.codeSku&&Object(w.jsx)("p",{children:i.codeSku.message})," "]})},name:"codeSku",control:o,defaultValue:""})]}),Object(w.jsxs)(v.a,{item:!0,xs:12,md:9,children:[Object(w.jsx)("label",{className:"label",children:" Nome do Produto"}),Object(w.jsx)(f.a,{render:function(e){var t=e.field;return Object(w.jsx)(k.a,Object(O.a)(Object(O.a)({},t),{},{className:"materialUIInput"}))},name:"productName",control:o,defaultValue:""})]}),Object(w.jsxs)(v.a,{item:!0,xs:12,md:6,children:[Object(w.jsx)("label",{className:"label",children:"Pre\xe7o"}),Object(w.jsx)(f.a,{render:function(e){var t=e.field;return Object(w.jsx)(k.a,Object(O.a)(Object(O.a)({},t),{},{className:"materialUIInput"}))},name:"price",control:o,defaultValue:""})]}),Object(w.jsxs)(v.a,{item:!0,xs:12,md:6,children:[Object(w.jsx)("label",{className:"label",children:"Categoria"}),Object(w.jsx)(f.a,{name:"category",render:function(e){var t=e.field;return Object(w.jsx)(m.a,Object(O.a)(Object(O.a)({className:"select"},t),{},{options:[{value:"leite",label:"Leite"},{value:"doce",label:"Doce"},{value:"iogurte",label:"Iogurte"}]}))},control:o,defaultValue:""})]}),Object(w.jsx)(v.a,{children:Object(w.jsxs)("div",{className:a.buttons,children:[Object(w.jsx)(y.a,{variant:"contained",color:"primary",type:"submit",className:a.button,children:"Salvar"}),Object(w.jsx)(y.a,{onClick:t,variant:"contained",color:"secondary",type:"submit",className:a.button,children:"Cancelar"})]})})]})})})},U=a(21),A=a(118),E=a.n(A),D=a(293),J=a(294),K=a(295),R=a(297),H=a(301),M=a(302),W=a(296),z=a(304),X=[{id:1,codeSku:768,productName:"leite camila",price:"5,99",category:{label:"Leite",value:"leite"}},{id:2,codeSku:763,productName:"leite molico",price:"5,00",category:{label:"Leite",value:"leite"}},{id:3,codeSku:758,productName:"leite itamb\xe9",price:"5,59",category:{label:"Leite",value:"leite"}},{id:4,codeSku:668,productName:"leite regina",price:"5,79",category:{label:"Leite",value:"leite"}}],G=a(70),Q=a(50),Y=Q.default.input(I||(I=Object(G.a)(["\n  height: 32px;\n  width: 250px;\n  border-radius: 3px;\n  border-top-left-radius: 5px;\n  border-bottom-left-radius: 5px;\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n  border: 1px solid #e5e5e5;\n  padding: 0 32px 0 16px;\n  :hover {\n    cursor: pointer;\n  }\n"]))),Z=Q.default.button(P||(P=Object(G.a)(["\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n  border-top-right-radius: 5px;\n  border-bottom-right-radius: 5px;\n  background: lightblue;\n  height: 34px;\n  width: 55px;\n  text-align: center;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),$=Q.default.div(V||(V=Object(G.a)(["\n    padding-top:50px; \n    border-top: 1px solid black\n\n"]))),_=(w.Fragment,p.a,l.a,p.a,D.a,[{name:"SKU",selector:"codeSku",sortable:!0,editable:!0},{name:"Nome",selector:"productName",sortable:!0,editable:!0},{name:"Pre\xe7o",selector:"price",sortable:!0,editable:!0},{name:"Categoria",selector:"category",sortable:!0,editable:!0}]),ee=function(e){var t=e.filterText,a=e.onFilter,c=e.onClear;return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(Y,{id:"search",type:"text",placeholder:"Busque pelo nome do produto","aria-label":"Search Input",value:t,onChange:a}),Object(w.jsx)(Z,{type:"button",onClick:c,children:"Limpar"})]})},te=function(e){var t=e.row,a=e.index,n=e.column,r=e.col,o=e.onChange,l=Object(c.useState)(t[n.selector]),s=Object(i.a)(l,2),d=s[0],u=s[1],b=function(e){u(e.target.value),null===o||void 0===o||o(e)};return(null===n||void 0===n?void 0:n.editing)?(console.log(null===n||void 0===n?void 0:n.editing,n,d),"category"===n.selector?(console.log("entrou no select"),Object(w.jsxs)(H.a,{value:d,onChange:b,children:[Object(w.jsx)(M.a,{value:"leite",children:"Leite"}),Object(w.jsx)(M.a,{value:"doce",children:"Doce"}),Object(w.jsx)(M.a,{value:"iogurte",children:"Iogurte"})]})):Object(w.jsx)("input",{type:n.type||"text",name:n.selector,style:{width:"100%"},onChange:b,value:d})):r.cell?r.cell(t,a,n):"category"===n.selector?(console.log(t.category.label),t.category.label):t[n.selector]},ae=function(){var e=n.a.useContext(F),t=e.products,a=(e.addProduct,e.skuExists,e.deleteProduct),r=Object(c.useState)(t),o=Object(i.a)(r,2),l=o[0],s=o[1],d=Object(c.useState)(-1),u=Object(i.a)(d,2),b=u[0],j=u[1],m=Object(c.useState)(""),x=Object(i.a)(m,2),h=x[0],f=x[1],v=n.a.useState("default"),k=Object(i.a)(v,2),y=k[0],C=k[1],S=t.filter((function(e){return e.productName&&e.productName.toLowerCase().includes(h.toLowerCase())})),N=Object(c.useRef)({}).current,L=n.a.useMemo((function(){return Object(w.jsx)(ee,{onFilter:function(e){return f(e.target.value)},onClear:function(){h&&f("")},filterText:h})}),[h]),I=function(e){return e.id===b},P=function(e){var t=e.target.name,a=e.target.value;N=Object(O.a)(Object(O.a)({},N),{},Object(U.a)({},t,a))},V=function(){j(-1)},q=_.map((function(e){return e.editable?Object(O.a)(Object(O.a)({},e),{},{cell:function(t,a,c){var n=I(t);return Object(w.jsx)(te,{row:t,index:a,column:Object(O.a)(Object(O.a)({},c),{},{editing:n}),col:e,onChange:P})}}):e})),B=Object(c.useCallback)((function(){return[].concat(Object(g.a)(q),[{name:"A\xe7\xf5es",allowOverflow:!0,minWidth:"200px",cell:function(e){return I(e)?Object(w.jsxs)("div",{children:[Object(w.jsx)("button",{type:"button",onClick:function(){return function(e){var t=Object(O.a)(Object(O.a)({},e),N),a=Object(g.a)(l);console.log(e,N);var c=a.findIndex((function(e){return b===e.id}));if(c>-1){var n=a[c];console.log(n),a.splice(c,1,Object(O.a)(Object(O.a)({},n),t)),j(-1),s(a)}}(e)},style:{backgroundColor:"lightgreen",color:"black"},children:"Salvar"}),Object(w.jsx)("button",{type:"button",onClick:V,style:{backgroundColor:"orangered",color:"white"},children:"Cancelar"})]}):Object(w.jsxs)("div",{children:[Object(w.jsx)(p.a,{color:"primary",onClick:function(){j(e.id)},children:Object(w.jsx)(J.a,{})}),Object(w.jsx)(p.a,{color:"secondary",onClick:function(){return function(e){if(window.confirm("Voc\xea tem certeza que quer deletar o produto:\r ".concat(e.id,"?"))){var t=l.findIndex((function(t){return t.id===e.id}));s([].concat(Object(g.a)(l.slice(0,t)),Object(g.a)(l.slice(t+1)))),a(l[t].codeSku)}console.log(e.id)}(e)},children:Object(w.jsx)(K.a,{})})]})}}])}),[q]);return Object(w.jsxs)($,{children:[Object(w.jsx)(W.a,{label:"Dark Mode",control:Object(w.jsx)(z.a,{checked:"dark"===y,onChange:function(){C("dark"===y?"default":"dark")}})}),Object(w.jsx)(E.a,{title:"Lista de Produtos",columns:B(),data:S,defaultSortField:"title",subHeader:!0,subHeaderComponent:L,contextActions:Object(w.jsx)(p.a,{children:Object(w.jsx)(R.a,{})}),theme:y})]})},ce=Object(x.a)((function(e){return{appBar:{position:"relative"},layout:Object(U.a)({width:"auto",marginLeft:e.spacing(2),marginRight:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(2)),{width:600,marginLeft:"auto",marginRight:"auto"}),paper:Object(U.a)({marginTop:e.spacing(3),marginBottom:e.spacing(3),padding:e.spacing(2)},e.breakpoints.up(600+2*e.spacing(3)),{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}),stepper:{padding:e.spacing(3,0,5)},buttons:{display:"flex",justifyContent:"flex-end"},button:{marginTop:e.spacing(3),marginLeft:e.spacing(1)}}})),ne=X;function re(){var e=ce(),t=Object(c.useContext)(F).products,a=Object(c.useState)(!1),r=Object(i.a)(a,2),o=r[0],O=r[1];console.log(t);var g=function(){O(!o)};return Object(w.jsx)(n.a.Fragment,{children:Object(w.jsxs)(L,{products:ne,activeForm:o,children:[Object(w.jsx)(s.a,{}),Object(w.jsx)(d.a,{position:"absolute",color:"default",className:e.appBar,children:Object(w.jsx)(u.a,{children:Object(w.jsx)(b.a,{variant:"h6",color:"inherit",noWrap:!0,children:"XProdutos"})})}),Object(w.jsx)("main",{className:e.layout,children:Object(w.jsxs)(j.a,{className:e.paper,children:[Object(w.jsxs)(b.a,{component:"h1",variant:"h4",align:"center",children:["Adicione um produto",Object(w.jsx)(p.a,{onClick:g,color:"primary",children:Object(w.jsx)(l.a,{})})]}),o&&Object(w.jsx)(T,{handleVisibleForm:g}),Object(w.jsx)(ae,{})]})})]})})}var oe=function(){return Object(w.jsx)("div",{className:"App",children:Object(w.jsx)(re,{})})};o.a.render(Object(w.jsx)(oe,{}),document.getElementById("root"))}},[[252,1,2]]]);
//# sourceMappingURL=main.abe5bcfe.chunk.js.map